(()=>{var t={913:(t,e,i)=>{var n;void 0===(n=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(){this.isEnvironmentValid=t=>this.environments.includes(t),this.setEnvironment=t=>{t&&this.isEnvironmentValid(t)&&(this.environment=t,t===this.environmentStaging?(this.apiUrl=this.apiUrlStaging,this.eventsUrl=this.eventsUrlStaging):t===this.environmentLocal?(this.apiUrl=this.apiUrlLocal,this.eventsUrl=this.eventsUrlLocal):t===this.environmentProduction&&(this.apiUrl=this.apiUrlProduction,this.eventsUrl=this.eventsUrlProduction))},this.environmentLocal="local",this.environmentStaging="staging",this.environmentProduction="production",this.apiUrl="https://api.tonicpow.com",this.apiUrlLocal="http://localhost:3000",this.apiUrlStaging="https://api.staging.tonicpow.com",this.apiUrlProduction="https://api.tonicpow.com",this.eventsUrl="https://events.tonicpow.com",this.eventsUrlLocal="http://localhost:3002",this.eventsUrlStaging="https://events.staging.tonicpow.com",this.eventsUrlProduction="https://events.tonicpow.com",this.customEnvironment="data-environment",this.environment="",this.environments=[this.environmentLocal,this.environmentStaging,this.environmentProduction],this.maxSessionDays=60,this.sessionName="tncpw_session",this.version="v0.0.8",this.widgetDivClass="tonicpow-widget",this.widgetId="data-widget-id"}}}.apply(e,[i,e]))||(t.exports=n)},242:function(t,e,i){var n,s,o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};n=[i,e,i(913)],void 0===(s=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i=o(i),e.default=class{constructor(t){this.detectWidgetClick=()=>{document.addEventListener("click",(async t=>{if(((t=t||window.event).target||t.srcElement)?.parentElement?.parentElement?.classList?.contains("tonicpow-widget"))try{this.interactionSent=!0,await this.sendEvent("interaction","click")}catch(t){console.error("failed to report interaction: click",t)}}))},this.detectBounce=()=>{window.onbeforeunload=()=>{this.sendEvent("bounce",((new Date).getTime()-this.start).toString())}},this.detectInteraction=()=>{document.addEventListener("mousedown",(async()=>{if(!this.interactionSent)try{await this.sendEvent("interaction","mousedown"),this.interactionSent=!0}catch(t){console.error("failed to report interaction: mousedown",t)}})),document.addEventListener("scroll",(async()=>{if(!this.interactionSent)try{await this.sendEvent("interaction","scroll"),this.interactionSent=!0}catch(t){console.error("failed to report interaction: scroll",t)}})),document.addEventListener("keypress",(async()=>{if(!this.interactionSent)try{await this.sendEvent("interaction","keypress"),this.interactionSent=!0}catch(t){console.error("failed to report interaction: keypress",t)}}))},this.sendEvent=async(t,e)=>{if(!this.sessionId)return void console.info("you must call init with a session before sending events");let n=new i.default;await fetch(`${n.eventsUrl}/v1/events?v=${n.version}&name=${t}&tncpw_session=${this.sessionId}&data=${e}`,{method:"get"})},this.sessionId=t,this.interactionSent=!1,this.start=(new Date).getTime(),this.detectInteraction(),this.detectBounce(),this.detectWidgetClick()}}}.apply(e,n))||(t.exports=s)},607:function(t,e,i){var n,s,o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};n=[i,e,i(913),i(242),i(912)],void 0===(s=function(t,e,i,n,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i=o(i),n=o(n),s=o(s);class r{constructor(){this.registerEvents=()=>{if(!this.events){let t=this.getVisitorSession();t&&t.length&&(this.events=new n.default(t))}},this.setOreo=(t,e,i)=>{const n=new Date;n.setTime(n.getTime()+864e5*i),document.cookie=`${t}=${e};path=/;expires=${n.toUTCString()}`},this.captureVisitorSession=(t="")=>{let e=t;return t&&t.length||"undefined"==typeof window||(e=new URLSearchParams(window.location.search).get(this.config.sessionName)||""),e&&e.length>0?(this.setOreo(this.config.sessionName,e,this.config.maxSessionDays),this.storage.setStorage(this.config.sessionName,e,86400*this.config.maxSessionDays),e):null},this.getVisitorSession=()=>this.storage.getStorage(this.config.sessionName),this.loadDivs=async()=>{const t=document.getElementsByClassName(this.config.widgetDivClass);for(let e=t.length-1;e>=0;e--){const i=t[e];if(!i)continue;const n=i.getAttribute(this.config.widgetId);if(!n){console.log(`${n} not found`);continue}const s=i.getAttribute(this.config.customEnvironment);this.config.setEnvironment(s||"production"),this.widgets.set(n,null);try{const t=await fetch(`${this.config.apiUrl}/v1/widgets/display/${n}?provider=embed-${this.config.version}`),e=await t.json(),s=encodeURIComponent(e.title);i.innerHTML=`\n      <a href="${e.link_url}?utm_source=tonicpow-widgets&utm_medium=widget&utm_campaign=${n}&utm_content=${s}" style="display: block">\n      <img src="${e.image_url}" \n      id="${n}"\n      width="${e.width}" \n      height="${e.height}" \n      alt="${e.title}" />\n      </a>`,i.setAttribute("data-width",e.width),i.setAttribute("data-height",e.height),this.widgets.set(n,e)}catch(t){console.info("Could not display widget:",t)}}},this.load=async()=>{if("undefined"==typeof window)return void console.error("TonicPow embed only works in the browser");const t=document.getElementsByClassName(this.config.widgetDivClass);t&&t.length>0&&(await this.loadDivs(),console.log("%c TonicPow widget(s) loaded! ","background: #974CD2; color: #fff"));const e=this.captureVisitorSession();e&&(this.events=new n.default(e))},this.config=new i.default,this.storage=new s.default,this.widgets=new Map,"complete"===document.readyState||"interactive"===document.readyState?(this.load(),this.registerEvents()):document.addEventListener("DOMContentLoaded",(()=>{this.load(),this.registerEvents()}))}}e.default=r,window.TonicPow=new r||{}}.apply(e,n))||(t.exports=s)},912:(t,e,i)=>{var n;void 0===(n=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(){this.removeStorage=t=>{try{localStorage.removeItem(t),localStorage.removeItem(`${t}_expiresIn`)}catch(e){return console.log(`removeStorage: Error removing key [${t}] from localStorage: ${JSON.stringify(e)}`),!1}return!0},this.getStorage=t=>{const e=Date.now();let i;try{i=localStorage.getItem(`${t}_expires`)}catch(t){return console.log(`getItem: error getting localStorage: ${JSON.stringify(t)}`),null}if(null==i&&(i=0),i<e)return this.removeStorage(t),null;try{return localStorage.getItem(t)}catch(e){return console.log(`getStorage: Error reading key [${t}] from localStorage: ${JSON.stringify(e)}`),null}},this.setStorage=(t,e,i=null)=>{i=i?Math.abs(i):86400;const n=Date.now()+1e3*i;try{localStorage.setItem(t,e),localStorage.setItem(`${t}_expires`,n.toString())}catch(e){return console.log(`setStorage: Error setting key [${t}] in localStorage: ${JSON.stringify(e)}`),!1}return!0}}}}.apply(e,[i,e]))||(t.exports=n)}},e={};!function i(n){if(e[n])return e[n].exports;var s=e[n]={exports:{}};return t[n].call(s.exports,s,s.exports,i),s.exports}(607)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AdG9uaWNwb3cvd2lkZ2V0Ly4vc3JjL2NvbmZpZy50cyIsIndlYnBhY2s6Ly9AdG9uaWNwb3cvd2lkZ2V0Ly4vc3JjL2V2ZW50cy50cyIsIndlYnBhY2s6Ly9AdG9uaWNwb3cvd2lkZ2V0Ly4vc3JjL2luZGV4LnRzIiwid2VicGFjazovL0B0b25pY3Bvdy93aWRnZXQvLi9zcmMvc3RvcmFnZS50cyIsIndlYnBhY2s6Ly9AdG9uaWNwb3cvd2lkZ2V0L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL0B0b25pY3Bvdy93aWRnZXQvd2VicGFjay9zdGFydHVwIl0sIm5hbWVzIjpbImlzRW52aXJvbm1lbnRWYWxpZCIsImVudmlyb25tZW50IiwidGhpcyIsImVudmlyb25tZW50cyIsImluY2x1ZGVzIiwic2V0RW52aXJvbm1lbnQiLCJlbnZpcm9ubWVudFN0YWdpbmciLCJhcGlVcmwiLCJhcGlVcmxTdGFnaW5nIiwiZXZlbnRzVXJsIiwiZXZlbnRzVXJsU3RhZ2luZyIsImVudmlyb25tZW50TG9jYWwiLCJhcGlVcmxMb2NhbCIsImV2ZW50c1VybExvY2FsIiwiZW52aXJvbm1lbnRQcm9kdWN0aW9uIiwiYXBpVXJsUHJvZHVjdGlvbiIsImV2ZW50c1VybFByb2R1Y3Rpb24iLCJjdXN0b21FbnZpcm9ubWVudCIsIm1heFNlc3Npb25EYXlzIiwic2Vzc2lvbk5hbWUiLCJ2ZXJzaW9uIiwid2lkZ2V0RGl2Q2xhc3MiLCJ3aWRnZXRJZCIsInNlc3Npb25JZCIsImRldGVjdFdpZGdldENsaWNrIiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiYXN5bmMiLCJlIiwid2luZG93IiwiZXZlbnQiLCJ0YXJnZXQiLCJzcmNFbGVtZW50IiwicGFyZW50RWxlbWVudCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiaW50ZXJhY3Rpb25TZW50Iiwic2VuZEV2ZW50IiwiY29uc29sZSIsImVycm9yIiwiZGV0ZWN0Qm91bmNlIiwib25iZWZvcmV1bmxvYWQiLCJEYXRlIiwiZ2V0VGltZSIsInN0YXJ0IiwidG9TdHJpbmciLCJkZXRlY3RJbnRlcmFjdGlvbiIsImV2ZW50TmFtZSIsImRhdGEiLCJpbmZvIiwiY29uZmlnIiwiZmV0Y2giLCJtZXRob2QiLCJUb25pY1BvdyIsInJlZ2lzdGVyRXZlbnRzIiwiZXZlbnRzIiwic2Vzc2lvbiIsImdldFZpc2l0b3JTZXNzaW9uIiwibGVuZ3RoIiwic2V0T3JlbyIsIm5hbWUiLCJ2YWx1ZSIsImRheXMiLCJkYXRlIiwic2V0VGltZSIsImNvb2tpZSIsInRvVVRDU3RyaW5nIiwiY2FwdHVyZVZpc2l0b3JTZXNzaW9uIiwiY3VzdG9tU2Vzc2lvbklkIiwiVVJMU2VhcmNoUGFyYW1zIiwibG9jYXRpb24iLCJzZWFyY2giLCJnZXQiLCJzdG9yYWdlIiwic2V0U3RvcmFnZSIsImdldFN0b3JhZ2UiLCJsb2FkRGl2cyIsInRvbmljRGl2cyIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJpIiwidG9uaWNEaXYiLCJnZXRBdHRyaWJ1dGUiLCJsb2ciLCJ3aWRnZXRzIiwic2V0IiwicHJvbWlzZSIsInJlc3BvbnNlIiwianNvbiIsImNhbXBhaWduVGl0bGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJ0aXRsZSIsImlubmVySFRNTCIsImxpbmtfdXJsIiwiaW1hZ2VfdXJsIiwid2lkdGgiLCJoZWlnaHQiLCJzZXRBdHRyaWJ1dGUiLCJsb2FkIiwiTWFwIiwicmVhZHlTdGF0ZSIsInJlbW92ZVN0b3JhZ2UiLCJsb2NhbFN0b3JhZ2UiLCJyZW1vdmVJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsImtleSIsIm5vdyIsImV4cGlyZXMiLCJnZXRJdGVtIiwiTWF0aCIsImFicyIsInNjaGVkdWxlIiwic2V0SXRlbSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiY2FsbCJdLCJtYXBwaW5ncyI6InlIQUFBLGdCQXFCRSxjQXdCQSxLQUFBQSxtQkFBc0JDLEdBQXdCQyxLQUFLQyxhQUFhQyxTQUFTSCxHQUd6RSxLQUFBSSxlQUFrQkosSUFFWEEsR0FLQUMsS0FBS0YsbUJBQW1CQyxLQUs3QkMsS0FBS0QsWUFBY0EsRUFHZkEsSUFBZ0JDLEtBQUtJLG9CQUN2QkosS0FBS0ssT0FBU0wsS0FBS00sY0FDbkJOLEtBQUtPLFVBQVlQLEtBQUtRLGtCQUNiVCxJQUFnQkMsS0FBS1Msa0JBQzlCVCxLQUFLSyxPQUFTTCxLQUFLVSxZQUNuQlYsS0FBS08sVUFBWVAsS0FBS1csZ0JBQ2JaLElBQWdCQyxLQUFLWSx3QkFDOUJaLEtBQUtLLE9BQVNMLEtBQUthLGlCQUNuQmIsS0FBS08sVUFBWVAsS0FBS2MsdUJBakR4QmQsS0FBS1MsaUJBQW1CLFFBQ3hCVCxLQUFLSSxtQkFBcUIsVUFDMUJKLEtBQUtZLHNCQUF3QixhQUU3QlosS0FBS0ssT0FBUywyQkFDZEwsS0FBS1UsWUFBYyx3QkFDbkJWLEtBQUtNLGNBQWdCLG1DQUNyQk4sS0FBS2EsaUJBQW1CLDJCQUN4QmIsS0FBS08sVUFBWSw4QkFDakJQLEtBQUtXLGVBQWlCLHdCQUN0QlgsS0FBS1EsaUJBQW1CLHNDQUN4QlIsS0FBS2Msb0JBQXNCLDhCQUMzQmQsS0FBS2Usa0JBQW9CLG1CQUN6QmYsS0FBS0QsWUFBYyxHQUNuQkMsS0FBS0MsYUFBZSxDQUFDRCxLQUFLUyxpQkFBa0JULEtBQUtJLG1CQUFvQkosS0FBS1ksdUJBQzFFWixLQUFLZ0IsZUFBaUIsR0FDdEJoQixLQUFLaUIsWUFBYyxnQkFDbkJqQixLQUFLa0IsUUFBVSxTQUNmbEIsS0FBS21CLGVBQWlCLGtCQUN0Qm5CLEtBQUtvQixTQUFXLG9CLDRQQ3ZDcEIsZ0JBS0UsWUFBWUMsR0FjWixLQUFBQyxrQkFBb0IsS0FDbEJDLFNBQVNDLGlCQUFpQixTQUFTQyxNQUFPQyxJQU14QyxLQUxBQSxFQUFJQSxHQUFLQyxPQUFPQyxPQUNBQyxRQUFVSCxFQUFFSSxhQUVKQyxlQUFlQSxlQUV4QkMsV0FBV0MsU0FBUyxtQkFDakMsSUFFRWpDLEtBQUtrQyxpQkFBa0IsUUFDakJsQyxLQUFLbUMsVUFBVSxjQUFlLFNBQ3BDLE1BQU9ULEdBQ1BVLFFBQVFDLE1BQU0sc0NBQXVDWCxRQU83RCxLQUFBWSxhQUFlLEtBQ2JYLE9BQU9ZLGVBQWlCLEtBRXRCdkMsS0FBS21DLFVBQVUsV0FBVyxJQUFJSyxNQUFPQyxVQUFZekMsS0FBSzBDLE9BQU9DLGNBS2pFLEtBQUFDLGtCQUFvQixLQUNsQnJCLFNBQVNDLGlCQUFpQixhQUFhQyxVQUNyQyxJQUFLekIsS0FBS2tDLGdCQUNSLFVBQ1FsQyxLQUFLbUMsVUFBVSxjQUFlLGFBQ3BDbkMsS0FBS2tDLGlCQUFrQixFQUN2QixNQUFPUixHQUNQVSxRQUFRQyxNQUFNLDBDQUEyQ1gsT0FLL0RILFNBQVNDLGlCQUFpQixVQUFVQyxVQUNsQyxJQUFLekIsS0FBS2tDLGdCQUNSLFVBQ1FsQyxLQUFLbUMsVUFBVSxjQUFlLFVBQ3BDbkMsS0FBS2tDLGlCQUFrQixFQUN2QixNQUFPUixHQUNQVSxRQUFRQyxNQUFNLHVDQUF3Q1gsT0FLNURILFNBQVNDLGlCQUFpQixZQUFZQyxVQUNwQyxJQUFLekIsS0FBS2tDLGdCQUNSLFVBQ1FsQyxLQUFLbUMsVUFBVSxjQUFlLFlBQ3BDbkMsS0FBS2tDLGlCQUFrQixFQUN2QixNQUFPUixHQUNQVSxRQUFRQyxNQUFNLHlDQUEwQ1gsUUFPaEUsS0FBQVMsVUFBWVYsTUFBT29CLEVBQW1CQyxLQUNwQyxJQUFLOUMsS0FBS3FCLFVBRVIsWUFEQWUsUUFBUVcsS0FBSywyREFLZixJQUFJQyxFQUFTLElBQUksZ0JBR1hDLE1BQ0osR0FBR0QsRUFBT3pDLHlCQUF5QnlDLEVBQU85QixnQkFBZ0IyQixtQkFBMkI3QyxLQUFLcUIsa0JBQWtCeUIsSUFDNUcsQ0FBRUksT0FBUSxTQXhGWmxELEtBQUtxQixVQUFZQSxFQUVqQnJCLEtBQUtrQyxpQkFBa0IsRUFHdkJsQyxLQUFLMEMsT0FBUSxJQUFJRixNQUFPQyxVQUN4QnpDLEtBQUs0QyxvQkFDTDVDLEtBQUtzQyxlQUNMdEMsS0FBS3NCLHVCLHdSQ2JULE1BQXFCNkIsRUFNbkIsY0F1QkEsS0FBQUMsZUFBaUIsS0FDZixJQUFLcEQsS0FBS3FELE9BQVEsQ0FFaEIsSUFBSUMsRUFBVXRELEtBQUt1RCxvQkFFZkQsR0FBV0EsRUFBUUUsU0FDckJ4RCxLQUFLcUQsT0FBUyxJQUFJLFVBQU9DLE1BTS9CLEtBQUFHLFFBQVUsQ0FBQ0MsRUFBY0MsRUFBZUMsS0FDdEMsTUFBTUMsRUFBTyxJQUFJckIsS0FDakJxQixFQUFLQyxRQUFRRCxFQUFLcEIsVUFBWSxNQUFzQm1CLEdBQ3BEckMsU0FBU3dDLE9BQVMsR0FBR0wsS0FBUUMsb0JBQXdCRSxFQUFLRyxpQkFNNUQsS0FBQUMsc0JBQXdCLENBQUNDLEVBQTBCLE1BQ2pELElBQUk3QyxFQUFZNkMsRUFNaEIsT0FKTUEsR0FBb0JBLEVBQWdCVixRQUE2QixvQkFBWDdCLFNBRTFETixFQURrQixJQUFJOEMsZ0JBQWdCeEMsT0FBT3lDLFNBQVNDLFFBQ2hDQyxJQUFJdEUsS0FBS2dELE9BQU8vQixjQUFnQixJQUVwREksR0FBYUEsRUFBVW1DLE9BQVMsR0FDbEN4RCxLQUFLeUQsUUFBUXpELEtBQUtnRCxPQUFPL0IsWUFBYUksRUFBV3JCLEtBQUtnRCxPQUFPaEMsZ0JBQzdEaEIsS0FBS3VFLFFBQVFDLFdBQ1h4RSxLQUFLZ0QsT0FBTy9CLFlBQ1pJLEVBQ0EsTUFBZXJCLEtBQUtnRCxPQUFPaEMsZ0JBRXRCSyxHQUVGLE1BSVQsS0FBQWtDLGtCQUFvQixJQUFNdkQsS0FBS3VFLFFBQVFFLFdBQVd6RSxLQUFLZ0QsT0FBTy9CLGFBRzlELEtBQUF5RCxTQUFXakQsVUFFVCxNQUFNa0QsRUFBWXBELFNBQVNxRCx1QkFBdUI1RSxLQUFLZ0QsT0FBTzdCLGdCQUc5RCxJQUFLLElBQUkwRCxFQUFJRixFQUFVbkIsT0FBUyxFQUFHcUIsR0FBSyxFQUFHQSxJQUFLLENBRTlDLE1BQU1DLEVBQVdILEVBQVVFLEdBRzNCLElBQUtDLEVBQ0gsU0FJRixNQUFNMUQsRUFBVzBELEVBQVNDLGFBQWEvRSxLQUFLZ0QsT0FBTzVCLFVBQ25ELElBQUtBLEVBQVUsQ0FDYmdCLFFBQVE0QyxJQUFJLEdBQUc1RCxlQUNmLFNBSUYsTUFBTUwsRUFBb0IrRCxFQUFTQyxhQUFhL0UsS0FBS2dELE9BQU9qQyxtQkFDNURmLEtBQUtnRCxPQUFPN0MsZUFBZVksR0FBcUIsY0FHaERmLEtBQUtpRixRQUFRQyxJQUFJOUQsRUFBVSxNQUUzQixJQUVFLE1BQU0rRCxRQUFnQmxDLE1BQ3BCLEdBQUdqRCxLQUFLZ0QsT0FBTzNDLDZCQUE2QmUsb0JBQTJCcEIsS0FBS2dELE9BQU85QixXQUcvRWtFLFFBQWlCRCxFQUFRRSxPQUd6QkMsRUFBZ0JDLG1CQUFtQkgsRUFBU0ksT0FHbERWLEVBQVNXLFVBQVksb0JBQ1pMLEVBQVNNLHVFQUF1RXRFLGlCQUF3QmtFLCtDQUN2R0YsRUFBU08sMEJBQ2Z2RSxvQkFDR2dFLEVBQVNRLDBCQUNSUixFQUFTUyx3QkFDWlQsRUFBU0ksd0JBR2RWLEVBQVNnQixhQUFhLGFBQWNWLEVBQVNRLE9BQzdDZCxFQUFTZ0IsYUFBYSxjQUFlVixFQUFTUyxRQUc5QzdGLEtBQUtpRixRQUFRQyxJQUFJOUQsRUFBVWdFLEdBQzNCLE1BQU8xRCxHQUNQVSxRQUFRVyxLQUFLLDRCQUE2QnJCLE1BTWhELEtBQUFxRSxLQUFPdEUsVUFFTCxHQUFzQixvQkFBWEUsT0FFVCxZQURBUyxRQUFRQyxNQUFNLDRDQUtoQixNQUFNc0MsRUFBWXBELFNBQVNxRCx1QkFBdUI1RSxLQUFLZ0QsT0FBTzdCLGdCQUMxRHdELEdBQWFBLEVBQVVuQixPQUFTLFVBQzVCeEQsS0FBSzBFLFdBQ1h0QyxRQUFRNEMsSUFBSSxpQ0FBa0MscUNBSWhELE1BQU0xQixFQUFVdEQsS0FBS2lFLHdCQUdqQlgsSUFDRnRELEtBQUtxRCxPQUFTLElBQUksVUFBT0MsS0FqSjNCdEQsS0FBS2dELE9BQVMsSUFBSSxVQUNsQmhELEtBQUt1RSxRQUFVLElBQUksVUFDbkJ2RSxLQUFLaUYsUUFBVSxJQUFJZSxJQUtTLGFBQXhCekUsU0FBUzBFLFlBQXFELGdCQUF4QjFFLFNBQVMwRSxZQUVqRGpHLEtBQUsrRixPQUNML0YsS0FBS29ELGtCQUdMN0IsU0FBU0MsaUJBQWlCLG9CQUFvQixLQUM1Q3hCLEtBQUsrRixPQUNML0YsS0FBS29ELHFCQXZCYixZQStKRXpCLE9BQWV3QixTQUFXLElBQUlBLEdBQWMsSSwwQ0NuSzlDLFcsbUZBRUEsOEJBUUUsS0FBQStDLGNBQWlCeEMsSUFDZixJQUNFeUMsYUFBYUMsV0FBVzFDLEdBQ3hCeUMsYUFBYUMsV0FBVyxHQUFHMUMsZUFDM0IsTUFBT2hDLEdBSVAsT0FIQVUsUUFBUTRDLElBQ04sc0NBQXNDdEIseUJBQTRCMkMsS0FBS0MsVUFBVTVFLE9BRTVFLEVBRVQsT0FBTyxHQVdULEtBQUErQyxXQUFjOEIsSUFFWixNQUFNQyxFQUFNaEUsS0FBS2dFLE1BR2pCLElBQUlDLEVBRUosSUFDRUEsRUFBVU4sYUFBYU8sUUFBUSxHQUFHSCxhQUNsQyxNQUFPN0UsR0FFUCxPQURBVSxRQUFRNEMsSUFBSSx3Q0FBd0NxQixLQUFLQyxVQUFVNUUsTUFDNUQsS0FRVCxHQUxJK0UsVUFDRkEsRUFBVSxHQUlSQSxFQUFVRCxFQUVaLE9BREF4RyxLQUFLa0csY0FBY0ssR0FDWixLQUlULElBQ0UsT0FBT0osYUFBYU8sUUFBUUgsR0FDNUIsTUFBTzdFLEdBRVAsT0FEQVUsUUFBUTRDLElBQUksa0NBQWtDdUIseUJBQTJCRixLQUFLQyxVQUFVNUUsTUFDakYsT0FhWCxLQUFBOEMsV0FBYSxDQUFDK0IsRUFBYTVDLEVBQWU4QyxFQUF5QixRQUcvREEsRUFERUEsRUFDUUUsS0FBS0MsSUFBSUgsR0FFVCxNQUlaLE1BQ01JLEVBRE1yRSxLQUFLZ0UsTUFDZ0IsSUFBVkMsRUFDdkIsSUFDRU4sYUFBYVcsUUFBUVAsRUFBSzVDLEdBQzFCd0MsYUFBYVcsUUFBUSxHQUFHUCxZQUFlTSxFQUFTbEUsWUFDaEQsTUFBT2pCLEdBRVAsT0FEQVUsUUFBUTRDLElBQUksa0NBQWtDdUIsdUJBQXlCRixLQUFLQyxVQUFVNUUsT0FDL0UsRUFFVCxPQUFPLE0saUNDMUZQcUYsRUFBMkIsSUFHL0IsU0FBU0MsRUFBb0JDLEdBRTVCLEdBQUdGLEVBQXlCRSxHQUMzQixPQUFPRixFQUF5QkUsR0FBVUMsUUFHM0MsSUFBSUMsRUFBU0osRUFBeUJFLEdBQVksQ0FHakRDLFFBQVMsSUFPVixPQUhBRSxFQUFvQkgsR0FBVUksS0FBS0YsRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHcEVHLEVBQU9ELFFDakJXRixDQUFvQixNIiwiZmlsZSI6IndpZGdldC5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbmZpZyB7XHJcbiAgZW52aXJvbm1lbnRMb2NhbDogc3RyaW5nXHJcbiAgZW52aXJvbm1lbnRTdGFnaW5nOiBzdHJpbmdcclxuICBlbnZpcm9ubWVudFByb2R1Y3Rpb246IHN0cmluZ1xyXG4gIGFwaVVybDogc3RyaW5nXHJcbiAgYXBpVXJsTG9jYWw6IHN0cmluZ1xyXG4gIGFwaVVybFN0YWdpbmc6IHN0cmluZ1xyXG4gIGFwaVVybFByb2R1Y3Rpb246IHN0cmluZ1xyXG4gIGV2ZW50c1VybDogc3RyaW5nXHJcbiAgZXZlbnRzVXJsTG9jYWw6IHN0cmluZ1xyXG4gIGV2ZW50c1VybFN0YWdpbmc6IHN0cmluZ1xyXG4gIGV2ZW50c1VybFByb2R1Y3Rpb246IHN0cmluZ1xyXG4gIGN1c3RvbUVudmlyb25tZW50OiBzdHJpbmdcclxuICBlbnZpcm9ubWVudDogc3RyaW5nXHJcbiAgZW52aXJvbm1lbnRzOiBzdHJpbmdbXVxyXG4gIG1heFNlc3Npb25EYXlzOiBudW1iZXJcclxuICBzZXNzaW9uTmFtZTogc3RyaW5nXHJcbiAgdmVyc2lvbjogc3RyaW5nXHJcbiAgd2lkZ2V0RGl2Q2xhc3M6IHN0cmluZ1xyXG4gIHdpZGdldElkOiBzdHJpbmdcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLmVudmlyb25tZW50TG9jYWwgPSAnbG9jYWwnXHJcbiAgICB0aGlzLmVudmlyb25tZW50U3RhZ2luZyA9ICdzdGFnaW5nJ1xyXG4gICAgdGhpcy5lbnZpcm9ubWVudFByb2R1Y3Rpb24gPSAncHJvZHVjdGlvbidcclxuXHJcbiAgICB0aGlzLmFwaVVybCA9ICdodHRwczovL2FwaS50b25pY3Bvdy5jb20nXHJcbiAgICB0aGlzLmFwaVVybExvY2FsID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCdcclxuICAgIHRoaXMuYXBpVXJsU3RhZ2luZyA9ICdodHRwczovL2FwaS5zdGFnaW5nLnRvbmljcG93LmNvbSdcclxuICAgIHRoaXMuYXBpVXJsUHJvZHVjdGlvbiA9ICdodHRwczovL2FwaS50b25pY3Bvdy5jb20nXHJcbiAgICB0aGlzLmV2ZW50c1VybCA9ICdodHRwczovL2V2ZW50cy50b25pY3Bvdy5jb20nXHJcbiAgICB0aGlzLmV2ZW50c1VybExvY2FsID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMidcclxuICAgIHRoaXMuZXZlbnRzVXJsU3RhZ2luZyA9ICdodHRwczovL2V2ZW50cy5zdGFnaW5nLnRvbmljcG93LmNvbSdcclxuICAgIHRoaXMuZXZlbnRzVXJsUHJvZHVjdGlvbiA9ICdodHRwczovL2V2ZW50cy50b25pY3Bvdy5jb20nXHJcbiAgICB0aGlzLmN1c3RvbUVudmlyb25tZW50ID0gJ2RhdGEtZW52aXJvbm1lbnQnXHJcbiAgICB0aGlzLmVudmlyb25tZW50ID0gJydcclxuICAgIHRoaXMuZW52aXJvbm1lbnRzID0gW3RoaXMuZW52aXJvbm1lbnRMb2NhbCwgdGhpcy5lbnZpcm9ubWVudFN0YWdpbmcsIHRoaXMuZW52aXJvbm1lbnRQcm9kdWN0aW9uXVxyXG4gICAgdGhpcy5tYXhTZXNzaW9uRGF5cyA9IDYwXHJcbiAgICB0aGlzLnNlc3Npb25OYW1lID0gJ3RuY3B3X3Nlc3Npb24nXHJcbiAgICB0aGlzLnZlcnNpb24gPSAndjAuMC44J1xyXG4gICAgdGhpcy53aWRnZXREaXZDbGFzcyA9ICd0b25pY3Bvdy13aWRnZXQnXHJcbiAgICB0aGlzLndpZGdldElkID0gJ2RhdGEtd2lkZ2V0LWlkJ1xyXG4gIH1cclxuXHJcbiAgLy8gaXNFbnZpcm9ubWVudFZhbGlkIHdpbGwgY2hlY2sgaWYgdGhlIGdpdmVuIGVudmlyb25tZW50IGlzIHZhbGlkXHJcbiAgaXNFbnZpcm9ubWVudFZhbGlkID0gKGVudmlyb25tZW50OiBzdHJpbmcpID0+IHRoaXMuZW52aXJvbm1lbnRzLmluY2x1ZGVzKGVudmlyb25tZW50KVxyXG5cclxuICAvLyBzZXRFbnZpcm9ubWVudCB3aWxsIHNldCB0aGUgZW52aXJvbm1lbnRcclxuICBzZXRFbnZpcm9ubWVudCA9IChlbnZpcm9ubWVudDogc3RyaW5nKSA9PiB7XHJcbiAgICAvLyBObyBlbnZpcm9ubWVudCBzZXQ/IHVzZSB0aGUgZGVmYXVsdFxyXG4gICAgaWYgKCFlbnZpcm9ubWVudCkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICAvLyBOb3QgYSB2YWxpZCBlbnZpcm9ubWVudD9cclxuICAgIGlmICghdGhpcy5pc0Vudmlyb25tZW50VmFsaWQoZW52aXJvbm1lbnQpKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIC8vIFNldCB0aGUgZW52aXJvbm1lbnRcclxuICAgIHRoaXMuZW52aXJvbm1lbnQgPSBlbnZpcm9ubWVudFxyXG5cclxuICAgIC8vIFNldCB0aGUgQVBJIHVybFxyXG4gICAgaWYgKGVudmlyb25tZW50ID09PSB0aGlzLmVudmlyb25tZW50U3RhZ2luZykge1xyXG4gICAgICB0aGlzLmFwaVVybCA9IHRoaXMuYXBpVXJsU3RhZ2luZ1xyXG4gICAgICB0aGlzLmV2ZW50c1VybCA9IHRoaXMuZXZlbnRzVXJsU3RhZ2luZ1xyXG4gICAgfSBlbHNlIGlmIChlbnZpcm9ubWVudCA9PT0gdGhpcy5lbnZpcm9ubWVudExvY2FsKSB7XHJcbiAgICAgIHRoaXMuYXBpVXJsID0gdGhpcy5hcGlVcmxMb2NhbFxyXG4gICAgICB0aGlzLmV2ZW50c1VybCA9IHRoaXMuZXZlbnRzVXJsTG9jYWxcclxuICAgIH0gZWxzZSBpZiAoZW52aXJvbm1lbnQgPT09IHRoaXMuZW52aXJvbm1lbnRQcm9kdWN0aW9uKSB7XHJcbiAgICAgIHRoaXMuYXBpVXJsID0gdGhpcy5hcGlVcmxQcm9kdWN0aW9uXHJcbiAgICAgIHRoaXMuZXZlbnRzVXJsID0gdGhpcy5ldmVudHNVcmxQcm9kdWN0aW9uXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBDb25maWcgZnJvbSAnLi9jb25maWcnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFdmVudHMge1xyXG4gIHNlc3Npb25JZDogc3RyaW5nXHJcbiAgc3RhcnQ6IG51bWJlclxyXG4gIGludGVyYWN0aW9uU2VudDogYm9vbGVhblxyXG5cclxuICBjb25zdHJ1Y3RvcihzZXNzaW9uSWQ6IHN0cmluZykge1xyXG4gICAgLy8gU2V0IHRoZSBjdXJyZW50IHNlc3Npb25cclxuICAgIHRoaXMuc2Vzc2lvbklkID0gc2Vzc2lvbklkXHJcblxyXG4gICAgdGhpcy5pbnRlcmFjdGlvblNlbnQgPSBmYWxzZVxyXG5cclxuICAgIC8vIFJlbWVtYmVyIHdoZW4gd2Ugc3RhcnRlZFxyXG4gICAgdGhpcy5zdGFydCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpXHJcbiAgICB0aGlzLmRldGVjdEludGVyYWN0aW9uKClcclxuICAgIHRoaXMuZGV0ZWN0Qm91bmNlKClcclxuICAgIHRoaXMuZGV0ZWN0V2lkZ2V0Q2xpY2soKVxyXG4gIH1cclxuXHJcbiAgLy8gRGV0ZWN0cyBjbGljayBvbiB0aGUgd2lkZ2V0XHJcbiAgZGV0ZWN0V2lkZ2V0Q2xpY2sgPSAoKSA9PiB7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jIChlOiBFdmVudCkgPT4ge1xyXG4gICAgICBlID0gZSB8fCB3aW5kb3cuZXZlbnRcclxuICAgICAgdmFyIHRhcmdldCA9IChlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQpIGFzIEhUTUxEaXZFbGVtZW50XHJcbiAgICAgIC8vIEdldCBjb250YWluZXIgZnJvbSB0aGUgY2xpY2tlZCBlbGVtZW50XHJcbiAgICAgIGxldCBjb250YWluZXIgPSB0YXJnZXQ/LnBhcmVudEVsZW1lbnQ/LnBhcmVudEVsZW1lbnRcclxuICAgICAgLy8gU2VuZCBvbmx5IGlmIHdpZGdldCBpbWFnZSB3YXMgY2xpY2tlZFxyXG4gICAgICBpZiAoY29udGFpbmVyPy5jbGFzc0xpc3Q/LmNvbnRhaW5zKCd0b25pY3Bvdy13aWRnZXQnKSkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAvLyBLZWVwbyB0aGlzIGFib3ZlIHNlbmQgdG8gcHJldmVudCBzZW5kaW5nIG1vdXNlZG93biBBTkQgY2xpY2sgb24gaW5pdGlhbCBpbnRlcmFjdGlvblxyXG4gICAgICAgICAgdGhpcy5pbnRlcmFjdGlvblNlbnQgPSB0cnVlXHJcbiAgICAgICAgICBhd2FpdCB0aGlzLnNlbmRFdmVudCgnaW50ZXJhY3Rpb24nLCAnY2xpY2snKVxyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2ZhaWxlZCB0byByZXBvcnQgaW50ZXJhY3Rpb246IGNsaWNrJywgZSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICAvLyBEZXRlY3RzIGEgYm91bmNlIGV2ZW50XHJcbiAgZGV0ZWN0Qm91bmNlID0gKCkgPT4ge1xyXG4gICAgd2luZG93Lm9uYmVmb3JldW5sb2FkID0gKCkgPT4ge1xyXG4gICAgICAvLyBDYWxjdWxhdGUgdGltZSBvbiBwYWdlXHJcbiAgICAgIHRoaXMuc2VuZEV2ZW50KCdib3VuY2UnLCAobmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0aGlzLnN0YXJ0KS50b1N0cmluZygpKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gRGV0ZWN0cyBhIHBhZ2UgaW50ZXJhY3Rpb25cclxuICBkZXRlY3RJbnRlcmFjdGlvbiA9ICgpID0+IHtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGFzeW5jICgpID0+IHtcclxuICAgICAgaWYgKCF0aGlzLmludGVyYWN0aW9uU2VudCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBhd2FpdCB0aGlzLnNlbmRFdmVudCgnaW50ZXJhY3Rpb24nLCAnbW91c2Vkb3duJylcclxuICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25TZW50ID0gdHJ1ZVxyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2ZhaWxlZCB0byByZXBvcnQgaW50ZXJhY3Rpb246IG1vdXNlZG93bicsIGUpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGFzeW5jICgpID0+IHtcclxuICAgICAgaWYgKCF0aGlzLmludGVyYWN0aW9uU2VudCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBhd2FpdCB0aGlzLnNlbmRFdmVudCgnaW50ZXJhY3Rpb24nLCAnc2Nyb2xsJylcclxuICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25TZW50ID0gdHJ1ZVxyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2ZhaWxlZCB0byByZXBvcnQgaW50ZXJhY3Rpb246IHNjcm9sbCcsIGUpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBpZiAoIXRoaXMuaW50ZXJhY3Rpb25TZW50KSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGF3YWl0IHRoaXMuc2VuZEV2ZW50KCdpbnRlcmFjdGlvbicsICdrZXlwcmVzcycpXHJcbiAgICAgICAgICB0aGlzLmludGVyYWN0aW9uU2VudCA9IHRydWVcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdmYWlsZWQgdG8gcmVwb3J0IGludGVyYWN0aW9uOiBrZXlwcmVzcycsIGUpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgLy8gU2VuZCBldmVudCB3aWxsIHNlbmQgYW4gZXZlbnQgdG8gVG9uaWNQb3dcclxuICBzZW5kRXZlbnQgPSBhc3luYyAoZXZlbnROYW1lOiBzdHJpbmcsIGRhdGE6IHN0cmluZykgPT4ge1xyXG4gICAgaWYgKCF0aGlzLnNlc3Npb25JZCkge1xyXG4gICAgICBjb25zb2xlLmluZm8oJ3lvdSBtdXN0IGNhbGwgaW5pdCB3aXRoIGEgc2Vzc2lvbiBiZWZvcmUgc2VuZGluZyBldmVudHMnKVxyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICAvLyBHZXQgY29uZmlnXHJcbiAgICBsZXQgY29uZmlnID0gbmV3IENvbmZpZygpXHJcblxyXG4gICAgLy8gdG9kbzogb2JmdXNjYXRlIHRoZSB1cmwgcGFyYW1zIChjaGFuZ2UgdG8gcGF5bG9hZCBvZiBKU09OPylcclxuICAgIGF3YWl0IGZldGNoKFxyXG4gICAgICBgJHtjb25maWcuZXZlbnRzVXJsfS92MS9ldmVudHM/dj0ke2NvbmZpZy52ZXJzaW9ufSZuYW1lPSR7ZXZlbnROYW1lfSZ0bmNwd19zZXNzaW9uPSR7dGhpcy5zZXNzaW9uSWR9JmRhdGE9JHtkYXRhfWAsXHJcbiAgICAgIHsgbWV0aG9kOiAnZ2V0JyB9XHJcbiAgICApXHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBDb25maWcgZnJvbSAnLi9jb25maWcnXHJcbmltcG9ydCBFdmVudHMgZnJvbSAnLi9ldmVudHMnXHJcbmltcG9ydCBTdG9yYWdlIGZyb20gJy4vc3RvcmFnZSdcclxuaW1wb3J0IFdpZGdldCBmcm9tICcuL3R5cGVzJ1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUb25pY1BvdyB7XHJcbiAgY29uZmlnOiBDb25maWdcclxuICBzdG9yYWdlOiBTdG9yYWdlXHJcbiAgZXZlbnRzOiBFdmVudHMgfCB1bmRlZmluZWRcclxuICB3aWRnZXRzOiBNYXA8U3RyaW5nLCB0eXBlb2YgV2lkZ2V0IHwgbnVsbD5cclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAvLyBTZXQgbmFtZXNwYWNlc1xyXG4gICAgdGhpcy5jb25maWcgPSBuZXcgQ29uZmlnKClcclxuICAgIHRoaXMuc3RvcmFnZSA9IG5ldyBTdG9yYWdlKClcclxuICAgIHRoaXMud2lkZ2V0cyA9IG5ldyBNYXA8U3RyaW5nLCB0eXBlb2YgV2lkZ2V0PigpXHJcblxyXG4gICAgLy8gU3RhcnQgdGhlIFRvbmljUG93IHNlcnZpY2UgYW5kIGxvYWQgbW9kdWxlc1xyXG5cclxuICAgIC8vIExvYWQgdGhlIFRvbmljUG93IHdpZGdldCB3aGVuIERPTSBpcyByZWFkeVxyXG4gICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScgfHwgZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2ludGVyYWN0aXZlJykge1xyXG4gICAgICAvLyBUaGlzIGxvYWRzIGlmIHRoZSA8c2NyaXB0PiBpcyBkeW5hbWljYWxseSBpbmplY3RlZCBpbnRvIHRoZSBwYWdlXHJcbiAgICAgIHRoaXMubG9hZCgpXHJcbiAgICAgIHRoaXMucmVnaXN0ZXJFdmVudHMoKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gVGhpcyBsb2FkcyBpZiB0aGUgPHNjcmlwdD4gaXMgaGFyZGNvZGVkIGluIHRoZSBodG1sIHBhZ2UgaW4gdGhlIDxoZWFkPlxyXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMubG9hZCgpXHJcbiAgICAgICAgdGhpcy5yZWdpc3RlckV2ZW50cygpXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyByZWdpc3RlckV2ZW50cyAtUmVnaXN0ZXJzIGV2ZW50IGxpc3RlbmVycy4gUnVucyBvbmx5IG9uY2VcclxuICByZWdpc3RlckV2ZW50cyA9ICgpID0+IHtcclxuICAgIGlmICghdGhpcy5ldmVudHMpIHtcclxuICAgICAgLy8gUmVnaXN0ZXIgZXZlbnRzIGlmIHdlIGhhdmUgYSB2YWxpZCBzZXNzaW9uXHJcbiAgICAgIGxldCBzZXNzaW9uID0gdGhpcy5nZXRWaXNpdG9yU2Vzc2lvbigpXHJcbiAgICAgIC8vIFRPRE86IFZhbGlkYXRlIHNlc3Npb24gaGVyZVxyXG4gICAgICBpZiAoc2Vzc2lvbiAmJiBzZXNzaW9uLmxlbmd0aCkge1xyXG4gICAgICAgIHRoaXMuZXZlbnRzID0gbmV3IEV2ZW50cyhzZXNzaW9uKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBzZXRPcmVvIGZvciBjcmVhdGluZyBuZXcgb3Jlb3NcclxuICBzZXRPcmVvID0gKG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZywgZGF5czogbnVtYmVyKSA9PiB7XHJcbiAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKVxyXG4gICAgZGF0ZS5zZXRUaW1lKGRhdGUuZ2V0VGltZSgpICsgMjQgKiA2MCAqIDYwICogMTAwMCAqIGRheXMpXHJcbiAgICBkb2N1bWVudC5jb29raWUgPSBgJHtuYW1lfT0ke3ZhbHVlfTtwYXRoPS87ZXhwaXJlcz0ke2RhdGUudG9VVENTdHJpbmcoKX1gXHJcbiAgfVxyXG5cclxuICAvLyBjYXB0dXJlVmlzaXRvclNlc3Npb24gd2lsbCBjYXB0dXJlIHRoZSBzZXNzaW9uIGFuZCBzdG9yZSBpdFxyXG4gIC8vIEJ1aWxkcyBhIGNvb2tpZSBzbyBpdCdzIHNlbnQgb24gcmVxdWVzdHMgYXV0b21hdGljYWxseVxyXG4gIC8vIFN0b3JlcyBpbiBsb2NhbCBzdG9yYWdlIGZvciBlYXN5IGFjY2VzcyBmcm9tIHRoZSBhcHBsaWNhdGlvblxyXG4gIGNhcHR1cmVWaXNpdG9yU2Vzc2lvbiA9IChjdXN0b21TZXNzaW9uSWQ6IHN0cmluZyA9ICcnKSA9PiB7XHJcbiAgICBsZXQgc2Vzc2lvbklkID0gY3VzdG9tU2Vzc2lvbklkXHJcblxyXG4gICAgaWYgKCghY3VzdG9tU2Vzc2lvbklkIHx8ICFjdXN0b21TZXNzaW9uSWQubGVuZ3RoKSAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICBjb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpXHJcbiAgICAgIHNlc3Npb25JZCA9IHVybFBhcmFtcy5nZXQodGhpcy5jb25maWcuc2Vzc2lvbk5hbWUpIHx8ICcnXHJcbiAgICB9XHJcbiAgICBpZiAoc2Vzc2lvbklkICYmIHNlc3Npb25JZC5sZW5ndGggPiAwKSB7XHJcbiAgICAgIHRoaXMuc2V0T3Jlbyh0aGlzLmNvbmZpZy5zZXNzaW9uTmFtZSwgc2Vzc2lvbklkLCB0aGlzLmNvbmZpZy5tYXhTZXNzaW9uRGF5cylcclxuICAgICAgdGhpcy5zdG9yYWdlLnNldFN0b3JhZ2UoXHJcbiAgICAgICAgdGhpcy5jb25maWcuc2Vzc2lvbk5hbWUsXHJcbiAgICAgICAgc2Vzc2lvbklkLFxyXG4gICAgICAgIDI0ICogNjAgKiA2MCAqIHRoaXMuY29uZmlnLm1heFNlc3Npb25EYXlzXHJcbiAgICAgIClcclxuICAgICAgcmV0dXJuIHNlc3Npb25JZFxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGxcclxuICB9XHJcblxyXG4gIC8vIGdldFZpc2l0b3JTZXNzaW9uIHdpbGwgZ2V0IHRoZSBzZXNzaW9uIGlmIGl0IGV4aXN0c1xyXG4gIGdldFZpc2l0b3JTZXNzaW9uID0gKCkgPT4gdGhpcy5zdG9yYWdlLmdldFN0b3JhZ2UodGhpcy5jb25maWcuc2Vzc2lvbk5hbWUpXHJcblxyXG4gIC8vIGxvYWREaXZzIHJlcGxhY2VzIGVhY2ggVG9uaWNQb3cgZGl2IHdpdGggYSBjb3JyZXNwb25kaW5nIGVtYmVkIHdpZGdldFxyXG4gIGxvYWREaXZzID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgLy8gR2V0IGFsbCBkaXZzXHJcbiAgICBjb25zdCB0b25pY0RpdnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKHRoaXMuY29uZmlnLndpZGdldERpdkNsYXNzKVxyXG5cclxuICAgIC8vIExvb3AgYWxsIGRpdnMgdGhhdCB3ZSBmb3VuZFxyXG4gICAgZm9yIChsZXQgaSA9IHRvbmljRGl2cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAvLyBTZXQgdGhlIGRpdlxyXG4gICAgICBjb25zdCB0b25pY0RpdiA9IHRvbmljRGl2c1tpXSBhcyBIVE1MRGl2RWxlbWVudFxyXG5cclxuICAgICAgLy8gTm90IHN1cmUgd2h5IHRoaXMgaXMgbmVlZGVkIGJ1dCBlbmNvdW50ZXJlZCB0aGlzIGluIHByb2QgMy81LzIwMjEgLSBsdWtlXHJcbiAgICAgIGlmICghdG9uaWNEaXYpIHtcclxuICAgICAgICBjb250aW51ZVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBHZXQgdGhlIHdpZGdldCBpZFxyXG4gICAgICBjb25zdCB3aWRnZXRJZCA9IHRvbmljRGl2LmdldEF0dHJpYnV0ZSh0aGlzLmNvbmZpZy53aWRnZXRJZClcclxuICAgICAgaWYgKCF3aWRnZXRJZCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGAke3dpZGdldElkfSBub3QgZm91bmRgKVxyXG4gICAgICAgIGNvbnRpbnVlXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEdldCB0aGUgY3VzdG9tIGVudmlyb25tZW50IChzd2l0Y2hpbmcgYXdheSBmcm9tIGRlZmF1bHQ6IHByb2R1Y3Rpb24pXHJcbiAgICAgIGNvbnN0IGN1c3RvbUVudmlyb25tZW50ID0gdG9uaWNEaXYuZ2V0QXR0cmlidXRlKHRoaXMuY29uZmlnLmN1c3RvbUVudmlyb25tZW50KVxyXG4gICAgICB0aGlzLmNvbmZpZy5zZXRFbnZpcm9ubWVudChjdXN0b21FbnZpcm9ubWVudCB8fCAncHJvZHVjdGlvbicpXHJcblxyXG4gICAgICAvLyBBZGQgdG8gd2lkZ2V0cyBtYXBcclxuICAgICAgdGhpcy53aWRnZXRzLnNldCh3aWRnZXRJZCwgbnVsbClcclxuXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgLy8gRmlyZSB0aGUgcmVxdWVzdCB0byBsb2FkIHRoZSB3aWRnZXQgZGF0YVxyXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSBhd2FpdCBmZXRjaChcclxuICAgICAgICAgIGAke3RoaXMuY29uZmlnLmFwaVVybH0vdjEvd2lkZ2V0cy9kaXNwbGF5LyR7d2lkZ2V0SWR9P3Byb3ZpZGVyPWVtYmVkLSR7dGhpcy5jb25maWcudmVyc2lvbn1gXHJcbiAgICAgICAgKVxyXG5cclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHByb21pc2UuanNvbigpXHJcblxyXG4gICAgICAgIC8vIFNldCBVUkkgZW5jb2RlZCB0aXRsZVxyXG4gICAgICAgIGNvbnN0IGNhbXBhaWduVGl0bGUgPSBlbmNvZGVVUklDb21wb25lbnQocmVzcG9uc2UudGl0bGUpXHJcblxyXG4gICAgICAgIC8vIFNldCB0aGUgSFRNTFxyXG4gICAgICAgIHRvbmljRGl2LmlubmVySFRNTCA9IGBcclxuICAgICAgPGEgaHJlZj1cIiR7cmVzcG9uc2UubGlua191cmx9P3V0bV9zb3VyY2U9dG9uaWNwb3ctd2lkZ2V0cyZ1dG1fbWVkaXVtPXdpZGdldCZ1dG1fY2FtcGFpZ249JHt3aWRnZXRJZH0mdXRtX2NvbnRlbnQ9JHtjYW1wYWlnblRpdGxlfVwiIHN0eWxlPVwiZGlzcGxheTogYmxvY2tcIj5cclxuICAgICAgPGltZyBzcmM9XCIke3Jlc3BvbnNlLmltYWdlX3VybH1cIiBcclxuICAgICAgaWQ9XCIke3dpZGdldElkfVwiXHJcbiAgICAgIHdpZHRoPVwiJHtyZXNwb25zZS53aWR0aH1cIiBcclxuICAgICAgaGVpZ2h0PVwiJHtyZXNwb25zZS5oZWlnaHR9XCIgXHJcbiAgICAgIGFsdD1cIiR7cmVzcG9uc2UudGl0bGV9XCIgLz5cclxuICAgICAgPC9hPmBcclxuICAgICAgICAvLyBTZXQgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxyXG4gICAgICAgIHRvbmljRGl2LnNldEF0dHJpYnV0ZSgnZGF0YS13aWR0aCcsIHJlc3BvbnNlLndpZHRoKVxyXG4gICAgICAgIHRvbmljRGl2LnNldEF0dHJpYnV0ZSgnZGF0YS1oZWlnaHQnLCByZXNwb25zZS5oZWlnaHQpXHJcblxyXG4gICAgICAgIC8vIEFkZCB0byB3aWRnZXRzIG1hcFxyXG4gICAgICAgIHRoaXMud2lkZ2V0cy5zZXQod2lkZ2V0SWQsIHJlc3BvbnNlIGFzIHR5cGVvZiBXaWRnZXQpXHJcbiAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICBjb25zb2xlLmluZm8oJ0NvdWxkIG5vdCBkaXNwbGF5IHdpZGdldDonLCBlKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBMb2FkIHRoZSBUb25pY1BvdyBzY3JpcHQocykgYW5kIGRlZmF1bHQgc2V0dGluZ3NcclxuICBsb2FkID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgLy8gV2Ugb25seSB3b3JrIGluIGEgYnJvd3NlclxyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1RvbmljUG93IGVtYmVkIG9ubHkgd29ya3MgaW4gdGhlIGJyb3dzZXInKVxyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICAvLyBMb2FkIGFsbCB0b25pY3MgZm91bmQgb24gdGhlIHBhZ2UgKGlmIHdlIGhhdmUgZGl2KVxyXG4gICAgY29uc3QgdG9uaWNEaXZzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSh0aGlzLmNvbmZpZy53aWRnZXREaXZDbGFzcylcclxuICAgIGlmICh0b25pY0RpdnMgJiYgdG9uaWNEaXZzLmxlbmd0aCA+IDApIHtcclxuICAgICAgYXdhaXQgdGhpcy5sb2FkRGl2cygpXHJcbiAgICAgIGNvbnNvbGUubG9nKCclYyBUb25pY1BvdyB3aWRnZXQocykgbG9hZGVkISAnLCAnYmFja2dyb3VuZDogIzk3NENEMjsgY29sb3I6ICNmZmYnKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFByb2Nlc3MgdmlzaXRvciB0b2tlblxyXG4gICAgY29uc3Qgc2Vzc2lvbiA9IHRoaXMuY2FwdHVyZVZpc2l0b3JTZXNzaW9uKClcclxuXHJcbiAgICAvLyBDYXB0dXJlIGV2ZW50cyBpZiB3ZSBoYXZlIGEgc2Vzc2lvblxyXG4gICAgaWYgKHNlc3Npb24pIHtcclxuICAgICAgdGhpcy5ldmVudHMgPSBuZXcgRXZlbnRzKHNlc3Npb24pXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vLyBBdXRvLWxvYWQgYW5kIHNldCBvbiB3aW5kb3dcclxuOyh3aW5kb3cgYXMgYW55KS5Ub25pY1BvdyA9IG5ldyBUb25pY1BvdygpIHx8IHt9XHJcbiIsIi8qIGdsb2JhbCBsb2NhbFN0b3JhZ2UgKi9cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0b3JhZ2Uge1xyXG4gIC8qXHJcbiAgcmVtb3ZlU3RvcmFnZTogcmVtb3ZlcyBhIGtleSBmcm9tIGxvY2FsU3RvcmFnZSBhbmQgaXRzIHNpYmxpbmcgZXhwaXJhY3kga2V5XHJcbiAgcGFyYW1zOlxyXG4gICAgICBrZXkgPHN0cmluZz4gOiBsb2NhbFN0b3JhZ2Uga2V5IHRvIHJlbW92ZVxyXG4gIHJldHVybnM6XHJcbiAgICAgIDxib29sZWFuPiA6IHRlbGxpbmcgaWYgb3BlcmF0aW9uIHN1Y2NlZWRlZFxyXG4gICovXHJcbiAgcmVtb3ZlU3RvcmFnZSA9IChuYW1lOiBzdHJpbmcpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKG5hbWUpXHJcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGAke25hbWV9X2V4cGlyZXNJbmApXHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgIGByZW1vdmVTdG9yYWdlOiBFcnJvciByZW1vdmluZyBrZXkgWyR7bmFtZX1dIGZyb20gbG9jYWxTdG9yYWdlOiAke0pTT04uc3RyaW5naWZ5KGUpfWBcclxuICAgICAgKVxyXG4gICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlXHJcbiAgfVxyXG5cclxuICAvKlxyXG4gIGdldFN0b3JhZ2U6IHJldHJpZXZlcyBhIGtleSBmcm9tIGxvY2FsU3RvcmFnZSBwcmV2aW91c2x5IHNldCB3aXRoIHNldFN0b3JhZ2UoKS5cclxuICBwYXJhbXM6XHJcbiAgICAgIGtleSA8c3RyaW5nPiA6IGxvY2FsU3RvcmFnZSBrZXlcclxuICByZXR1cm5zOlxyXG4gICAgICA8c3RyaW5nPiA6IHZhbHVlIG9mIGxvY2FsU3RvcmFnZSBrZXlcclxuICAgICAgbnVsbCA6IGluIGNhc2Ugb2YgZXhwaXJlZCBrZXkgb3IgZmFpbHVyZVxyXG4gICovXHJcbiAgZ2V0U3RvcmFnZSA9IChrZXk6IHN0cmluZykgPT4ge1xyXG4gICAgLy8gZXBvY2ggdGltZSwgbGV0cyBkZWFsIG9ubHkgd2l0aCBpbnRlZ2VyXHJcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpXHJcblxyXG4gICAgLy8gU2V0IGV4cGlyYXRpb24gZm9yIHN0b3JhZ2VcclxuICAgIGxldCBleHBpcmVzXHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgZXhwaXJlcyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGAke2tleX1fZXhwaXJlc2ApXHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGBnZXRJdGVtOiBlcnJvciBnZXR0aW5nIGxvY2FsU3RvcmFnZTogJHtKU09OLnN0cmluZ2lmeShlKX1gKVxyXG4gICAgICByZXR1cm4gbnVsbFxyXG4gICAgfVxyXG5cclxuICAgIGlmIChleHBpcmVzID09PSB1bmRlZmluZWQgfHwgZXhwaXJlcyA9PT0gbnVsbCkge1xyXG4gICAgICBleHBpcmVzID0gMFxyXG4gICAgfVxyXG5cclxuICAgIC8vIEV4cGlyZWRcclxuICAgIGlmIChleHBpcmVzIDwgbm93KSB7XHJcbiAgICAgIHRoaXMucmVtb3ZlU3RvcmFnZShrZXkpXHJcbiAgICAgIHJldHVybiBudWxsXHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2V0IHRoZSBleGlzdGluZyBpdGVtXHJcbiAgICB0cnkge1xyXG4gICAgICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhgZ2V0U3RvcmFnZTogRXJyb3IgcmVhZGluZyBrZXkgWyR7a2V5fV0gZnJvbSBsb2NhbFN0b3JhZ2U6ICR7SlNPTi5zdHJpbmdpZnkoZSl9YClcclxuICAgICAgcmV0dXJuIG51bGxcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qXHJcbiAgc2V0U3RvcmFnZTogd3JpdGVzIGEga2V5IGludG8gbG9jYWxTdG9yYWdlIHNldHRpbmcgYSBleHBpcmUgdGltZVxyXG4gIHBhcmFtczpcclxuICAgICAga2V5IDxzdHJpbmc+ICAgICA6IGxvY2FsU3RvcmFnZSBrZXlcclxuICAgICAgdmFsdWUgPHN0cmluZz4gICA6IGxvY2FsU3RvcmFnZSB2YWx1ZVxyXG4gICAgICBleHBpcmVzIDxudW1iZXI+IDogbnVtYmVyIG9mIHNlY29uZHMgZnJvbSBub3cgdG8gZXhwaXJlIHRoZSBrZXlcclxuICByZXR1cm5zOlxyXG4gICAgICA8Ym9vbGVhbj4gOiB0ZWxsaW5nIGlmIG9wZXJhdGlvbiBzdWNjZWVkZWRcclxuICAqL1xyXG4gIHNldFN0b3JhZ2UgPSAoa2V5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcsIGV4cGlyZXM6IG51bWJlciB8IG51bGwgPSBudWxsKSA9PiB7XHJcbiAgICAvLyBFeHBpcmVkIHRpbWVcclxuICAgIGlmIChleHBpcmVzKSB7XHJcbiAgICAgIGV4cGlyZXMgPSBNYXRoLmFicyhleHBpcmVzKSAvLyBtYWtlIHN1cmUgaXQncyBwb3NpdGl2ZVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZXhwaXJlcyA9IDI0ICogNjAgKiA2MCAvLyBkZWZhdWx0OiBzZWNvbmRzIGZvciAxIGRheVxyXG4gICAgfVxyXG5cclxuICAgIC8vIE1pbGxpIHNlY29uZHMgc2luY2UgZXBvY2ggdGltZSwgbGV0cyBkZWFsIG9ubHkgd2l0aCBpbnRlZ2VyXHJcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpXHJcbiAgICBjb25zdCBzY2hlZHVsZSA9IG5vdyArIGV4cGlyZXMgKiAxMDAwXHJcbiAgICB0cnkge1xyXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIHZhbHVlKVxyXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShgJHtrZXl9X2V4cGlyZXNgLCBzY2hlZHVsZS50b1N0cmluZygpKVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBjb25zb2xlLmxvZyhgc2V0U3RvcmFnZTogRXJyb3Igc2V0dGluZyBrZXkgWyR7a2V5fV0gaW4gbG9jYWxTdG9yYWdlOiAke0pTT04uc3RyaW5naWZ5KGUpfWApXHJcbiAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWVcclxuICB9XHJcbn1cclxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0aWYoX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNjA3KTtcbiJdLCJzb3VyY2VSb290IjoiIn0=